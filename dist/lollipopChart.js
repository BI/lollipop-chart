!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3")):"function"==typeof define&&define.amd?define(["d3"],e):"object"==typeof exports?exports.LollipopChart=e(require("d3")):t.LollipopChart=e(t.d3)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r=n(3);n(6)(r);n(7),n(8);var o=function(t){function e(t,e,n){var r=this;return function(){return l.selectAll("rect."+B).filter(function(e){return s.nameAccessor()(e)===s.nameAccessor()(t)}).classed("active",!0),l.selectAll("circle."+S).filter(function(e){return s.nameAccessor()(e)===s.nameAccessor()(t)}).classed("active",!0),l.selectAll("text").filter(function(e){return s.nameAccessor()(e)===s.nameAccessor()(t)}).classed("active",!0),n.show(t,e).bind(r)}}function n(t,e,n){var r=this;return function(){return l.selectAll("rect."+B).filter(function(e){return s.nameAccessor()(e)===s.nameAccessor()(t)}).classed("active",!1),l.selectAll("circle."+S).filter(function(e){return s.nameAccessor()(e)===s.nameAccessor()(t)}).classed("active",!1),l.selectAll("text").filter(function(e){return s.nameAccessor()(e)===s.nameAccessor()(t)}).classed("active",!1),n.hide(t,e).bind(r)}}function o(t,e){var n=i(t,e);return n+s.generateBarWidth()/2}function i(t,e){return g(e)}function a(t){return u-s.generateBarHeight(t)}var l,s={},c=450,u=200,f=15,p=10,d=p,h={},m=r.scale.linear(),g=r.scale.linear(),v=!1,x=r.scale.category10(),y=750,b="#ccc",A="N/A",w=[0,0],L=r.format(","),C="d3-tip-mouse",B="comparison-bar",T="lollipop-line",S="lollipop-circle",R=function(t){var e="<label>Name: </label>"+s.nameAccessor()(t);return e+="<br/><label>Value: </label>"+L(s.valueAccessor()(t)),e+="<br/><label>Comparison Value: </label>"+L(s.comparisonValueAccessor()(t))},k=function(t){return"Data not available"},H=function(t){return t.scale?t.scale:m},E=function(t){return t.value},N=function(t){return t.name},U=function(t){return t.comparisonValue};return s.render=function(f){l=r.select(t).html("").classed("Lollipop-Chart",!0).append("svg");var d=r.select(t).attr("id")+"-tip",m=r.tip().attr("class",C).attr("id",d).html(R).offset(w).positionAnchor("mouse"),g=r.tip().attr("class",C).attr("id",d+"-na").html(k).offset(w).positionAnchor("mouse");arguments.length&&s.data(f),l.attr("width",c),l.attr("height",u),l.selectAll("rect").data(h).enter().append("rect").classed(B,!0).attr("x",i).attr("width",s.generateBarWidth).attr("height",s.generateBarHeight).attr("y",u).transition().duration(y).attr("y",a),l.selectAll("line").data(h).enter().append("line").classed(T,!0).attr("x1",o).attr("x2",o).attr("y1",u).attr("y2",u).transition().duration(y).attr("y2",s.generateLineY2),l.selectAll("circle").data(h).enter().append("circle").classed(S,!0).attr("cx",o).attr("r",s.generateLollipopRadius).attr("fill",function(t){return s.colorAccessor(t)}).attr("cy",u+p).transition().duration(y).attr("cy",s.generateLollipopY),h.forEach(function(t,e){s.isBadDatum(t)&&l.append("text").datum(t).classed("na-text",!0).attr("x",o(t,e)).attr("font-size",p+"px").attr("text-anchor","middle").text(A).attr("y",u-5)}),h.forEach(function(t,o){var a=l.append("rect").datum(t);a.classed("tt-ghost-rect",!0).attr("x",i(t,o)).attr("y",0).attr("width",s.generateBarWidth).attr("height",u);var c=m;s.isBadDatum(t)&&(c=g),r.select("#"+c.attr("id")).empty()||r.select("#"+c.attr("id")).remove(),a.call(c),a.on("mouseover",e(t,o,c)).on("mouseout",n(t,o,c)).on("mousemove",c.updatePosition)})},s.data=function(t){if(!arguments.length)return h;h=t;var e=[0,u-d];return v||m.domain([r.min(h,E),r.max(h,E)]),m.range(e),h.forEach(function(t){t.scale&&t.scale.range(e)}),g.domain([0,h.length]).range([0,c+f]),x.domain(h.map(N)),s},s.tooltipMarkupFunc=function(t){return arguments.length?(R=t,s):R},s.yScaleAccessor=function(t){return arguments.length?(H=t,s):H},s.colorScale=function(t){return arguments.length?(x=t,s):x},s.colorAccessor=function(t){return s.isBadDatum(t)?b:x(N(t))},s.noDataColor=function(t){return arguments.length?(b=t,s):b},s.xScale=function(){return g},s.yScale=function(t){return arguments.length?(m=t,v=!0,s):m},s.barGap=function(t){return arguments.length?(f=t,s):f},s.lollipopRadius=function(t){return arguments.length?(p=t,d=t,s):p},s.chartGutter=function(t){return arguments.length?(d=t,s):d},s.generateLollipopY=function(t){return s.isBadDatum(t)?u+p:u-s.generateLollipopHeight(t)},s.generateLineY2=function(t){return s.isBadDatum(t)?u:s.generateLollipopY(t)},s.generateBarWidth=function(){return(c+f)/h.length-f},s.generateBarHeight=function(t){if(s.isBadDatum(t))return 0;var e=H(t),n=U(t);return e(n)},s.generateLollipopHeight=function(t){var e=H(t),n=E(t);return e(n)},s.generateLollipopRadius=function(t){return s.isBadDatum(t)?0:p},s.isBadDatum=function(t){var e=E(t),n=U(t);return!Number(e)||!Number(n)},s.width=function(t){return arguments.length?(c=t,s):c},s.height=function(t){return arguments.length?(u=t,s):u},s.valueAccessor=function(t){return arguments.length?(E=t,s):E},s.nameAccessor=function(t){return arguments.length?(N=t,s):N},s.comparisonValueAccessor=function(t){return arguments.length?(U=t,s):U},s.transitionDuration=function(t){return arguments.length?(y=t,s):y},s};t.exports=o},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=d[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(c(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(c(r.parts[i],e));d[r.id]={id:r.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],l=o[2],s=o[3],c={css:a,media:l,sourceMap:s};n[i]?n[i].parts.push(c):e.push(n[i]={id:i,parts:[c]})}return e}function i(t,e){var n=g(),r=y[y.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function l(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function s(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function c(t,e){var n,r,o;if(e.singleton){var i=x++;n=v||(v=l(e)),r=u.bind(null,n,i,!1),o=u.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(e),r=p.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(e),r=f.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function u(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var d={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},m=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=h(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,x=0,y=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=m()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var l=n[a],s=d[l.id];s.refs--,i.push(s)}if(t){var c=o(t);r(c,e)}for(var a=0;a<i.length;a++){var s=i[a];if(0===s.refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete d[s.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(e,n){e.exports=t},function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".Lollipop-Chart rect{fill:#d4e6f6}.Lollipop-Chart rect.active{stroke:#7ca3c5}.Lollipop-Chart rect.tt-ghost-rect{fill:none;stroke:none;pointer-events:all}.Lollipop-Chart circle.active{stroke:#7ca3c5}.Lollipop-Chart line{stroke:#9fa2a4;stroke-width:1px;stroke-dasharray:5,3}.Lollipop-Chart text.na-text.active{fill:#7ca3c5}",""])},function(t,e,n){e=t.exports=n(1)(),e.push([t.id,'.d3-tip-mouse{padding:8px;background:rgba(0,0,0,.8);border-radius:2px;pointer-events:none;z-index:100;outline:none}.d3-tip-mouse,.d3-tip-mouse label{font-size:13px;line-height:16px;color:#fff}.d3-tip-mouse label{font-family:Abel,Helvetica,Arial,sans-serif;font-weight:400;display:inline}.d3-tip{font-size:13px;line-height:16px;padding:8px;background:rgba(0,0,0,.8);color:#fff;border-radius:2px;pointer-events:none;z-index:100;outline:none}.d3-tip label{font-family:Abel,Helvetica,Arial,sans-serif;font-weight:400}.d3-tip:after{box-sizing:border-box;display:inline;font-size:10px;width:100%;line-height:1;color:rgba(0,0,0,.8);position:absolute;pointer-events:none;z-index:100}.d3-tip.n:after{text-align:center}.d3-tip.n:after,.d3-tip.ne:after{content:"\\25BC";top:auto;bottom:-7px;left:0}.d3-tip.ne:after{text-align:left;padding-left:8px}.d3-tip.nw:after{content:"\\25BC";top:auto;bottom:-7px;left:0;text-align:right;padding-right:8px}.d3-tip.e:after{content:"\\25C0";margin:-4px 0 0;top:50%;left:-7px}.d3-tip.s:after{content:"\\25B2";margin:0 0 1px;top:-8px;left:0;text-align:center}.d3-tip.w:after{content:"\\25B6";margin:-4px 0 0 -2px;top:50%;left:100%}',""])},function(t,e,n){var r,o,i;!function(a,l){o=[n(3)],r=l,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(this,function(t){return t.tip=function(){function e(t){C=x(t),B=C.createSVGPoint(),document.body.appendChild(L)}function n(t){var e=window.outerWidth;return t>e?t-e:!1}function r(t){window.outerWidth;return 0>t?-t:!1}function o(t){var e=document.documentElement.scrollTop||document.body.scrollTop,n=window.innerHeight+e;return t>n?t-n:!1}function i(){return"n"}function a(){return[0,0]}function l(){return" "}function s(){return"shape"}function c(){var t=y();return{top:t.n.y-L.offsetHeight,left:t.n.x-L.offsetWidth/2}}function u(){var t=y();return{top:t.s.y,left:t.s.x-L.offsetWidth/2}}function f(){var t=y();return{top:t.e.y-L.offsetHeight/2,left:t.e.x}}function p(){var t=y();return{top:t.w.y-L.offsetHeight/2,left:t.w.x-L.offsetWidth}}function d(){var t=y();return{top:t.nw.y-L.offsetHeight,left:t.nw.x-L.offsetWidth}}function h(){var t=y();return{top:t.ne.y-L.offsetHeight,left:t.ne.x}}function m(){var t=y();return{top:t.sw.y,left:t.sw.x-L.offsetWidth}}function g(){var t=y();return{top:t.se.y,left:t.e.x}}function v(){var e=t.select(document.createElement("div"));return e.style({position:"absolute",top:0,opacity:0,"pointer-events":"none","box-sizing":"border-box"}),e.node()}function x(t){return t=t.node(),"svg"===t.tagName.toLowerCase()?t:t.ownerSVGElement}function y(){for(var e=T||t.event.target;"undefined"==typeof e.getScreenCTM&&"undefined"===e.parentNode;)e=e.parentNode;var n={},r=e.getScreenCTM(),o=e.getBBox(),i=o.width,a=o.height,l=o.x,s=o.y;return B.x=l,B.y=s,n.nw=B.matrixTransform(r),B.x+=i,n.ne=B.matrixTransform(r),B.y+=a,n.se=B.matrixTransform(r),B.x-=i,n.sw=B.matrixTransform(r),B.y-=a/2,n.w=B.matrixTransform(r),B.x+=i,n.e=B.matrixTransform(r),B.x-=i/2,B.y-=a/2,n.n=B.matrixTransform(r),B.y+=a,n.s=B.matrixTransform(r),n}var b=i,A=a,w=l,L=v(),C=null,B=null,T=null,S=s;e.show=function(){var i=Array.prototype.slice.call(arguments);i[i.length-1]instanceof SVGElement&&(T=i.pop());var a,l=w.apply(this,i),s=A.apply(this,i),c=b.apply(this,i),u=t.select(L),f=k.length,p=document.documentElement.scrollTop||document.body.scrollTop,d=document.documentElement.scrollLeft||document.body.scrollLeft;for(u.html(l).style({opacity:1,"pointer-events":"all","z-index":100,display:"block"});f--;)u.classed(k[f],!1);a=R.get(c).apply(this);var h=a.left+s[1]+d+u.property("offsetWidth"),m=a.top+s[0]+p+u.property("offsetHeight"),g=n(h),v=o(m),x=a.left+s[1]+d,y=r(x),C=a.top+s[0]+p;return g&&(x-=g),y&&(x+=y),v&&(C-=v),"shape"===S()?u.classed(c,!0).style({top:C+"px",left:x+"px"}):"mouse"===S()&&(u.classed(c,!0),e.updatePosition(s)),e},e.hide=function(){var n=t.select(L);return n.style({opacity:0,"pointer-events":"none","z-index":-1,display:"none"}),e},e.updatePosition=function(i){var a=t.select(L),l=t.mouse(t.select("html").node())[0]+10,s=t.mouse(t.select("html").node())[1]+20,c=l+a.property("offsetWidth"),u=s+a.property("offsetHeight"),f=n(c),p=r(l),d=o(u);return i.length&&(l+=i[0],s+=i[1]),f&&(l-=f),p&&(l+=p),d&&(s-=d),a.style({top:s+"px",left:l+"px"}),e},e.attr=function(n,r){if(arguments.length<2&&"string"==typeof n)return t.select(L).attr(n);var o=Array.prototype.slice.call(arguments);return t.selection.prototype.attr.apply(t.select(L),o),e},e.style=function(n,r){if(arguments.length<2&&"string"==typeof n)return t.select(L).style(n);var o=Array.prototype.slice.call(arguments);return t.selection.prototype.style.apply(t.select(L),o),e},e.direction=function(n){return arguments.length?(b=null==n?n:t.functor(n),e):b},e.positionAnchor=function(n){return arguments.length?(S=null==n?n:t.functor(n),e):S},e.offset=function(n){return arguments.length?(A=null==n?n:t.functor(n),e):A},e.html=function(n){return arguments.length?(w=null==n?n:t.functor(n),e):w};var R=t.map({n:c,s:u,e:f,w:p,nw:d,ne:h,sw:m,se:g}),k=R.keys();return e},t.tip})},function(t,e,n){var r=n(4);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(5);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)}])});