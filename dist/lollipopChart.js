!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3")):"function"==typeof define&&define.amd?define(["d3"],e):"object"==typeof exports?exports.LollipopChart=e(require("d3")):t.LollipopChart=e(t.d3)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r=n(3);n(6)(r);n(7),n(8);var o=function(t){function e(t,e){var r=n(t,e);return r+i.generateBarWidth()/2}function n(t,e){return d(e)}function o(t){return l-i.generateBarHeight(t)}var i={},a=450,l=200,u=15,s=10,c=s,f={},p=r.scale.linear(),d=r.scale.linear(),h=!1,g=r.scale.category10(),m=750,v="#ccc",x="N/A",y="d3-tip-mouse",b=[0,0],w=r.format(","),A=function(t){var e="<label>Name: </label>"+i.nameAccessor()(t);return e+="<br/><label>Value: </label>"+w(i.valueAccessor()(t)),e+="<br/><label>Comparison Value: </label>"+w(i.comparisonValueAccessor()(t))},L=function(t){return t.scale?t.scale:p},B=function(t){return t.value},C=function(t){return t.name},T=function(t){return t.comparisonValue};return i.render=function(u){var c=r.select(t).html("").classed("Lollipop-Chart",!0).append("svg"),p=r.select(t).attr("id")+"-tip",d=r.tip().attr("class",y).attr("id",p).html(A).offset(b).positionAnchor("mouse");arguments.length&&i.data(u),c.attr("width",a),c.attr("height",l),c.selectAll("rect").data(f).enter().append("rect").attr("x",n).attr("width",i.generateBarWidth).attr("height",i.generateBarHeight).attr("y",l).transition().duration(m).attr("y",o),c.selectAll("line").data(f).enter().append("line").attr("x1",e).attr("x2",e).attr("y1",l).attr("y2",l).transition().duration(m).attr("y2",i.generateLineY2),c.selectAll("circle").data(f).enter().append("circle").attr("cx",e).attr("r",i.generateLollipopRadius).attr("fill",function(t){return i.colorAccessor(t)}).attr("cy",l+s).transition().duration(m).attr("cy",i.generateLollipopY),f.forEach(function(t,n){i.isBadDatum(t)&&c.append("text").attr("x",e(t,n)).attr("font-size",s+"px").attr("text-anchor","middle").text(x).attr("y",l-5)});var h=c.selectAll("circle, line, rect");h.call(d),h.on("mouseover",d.show).on("mouseout",d.hide).on("mousemove",d.updatePosition)},i.data=function(t){if(!arguments.length)return f;f=t;var e=[0,l-c];return h||p.domain([r.min(f,B),r.max(f,B)]),p.range(e),f.forEach(function(t){t.scale&&t.scale.range(e)}),d.domain([0,f.length]).range([0,a]),g.domain(f.map(C)),i},i.yScaleAccessor=function(t){return arguments.length?(L=t,i):L},i.colorScale=function(t){return arguments.length?(g=t,i):g},i.colorAccessor=function(t){return i.isBadDatum(t)?v:g(C(t))},i.noDataColor=function(t){return arguments.length?(v=t,i):v},i.xScale=function(){return d},i.yScale=function(t){return arguments.length?(p=t,h=!0,i):p},i.barGap=function(t){return arguments.length?(u=t,i):u},i.lollipopRadius=function(t){return arguments.length?(s=t,c=t,i):s},i.chartGutter=function(t){return arguments.length?(c=t,i):c},i.generateLollipopY=function(t){return i.isBadDatum(t)?l+s:l-i.generateLollipopHeight(t)},i.generateLineY2=function(t){return i.isBadDatum(t)?l:i.generateLollipopY(t)},i.generateBarWidth=function(){return a/f.length-u},i.generateBarHeight=function(t){if(i.isBadDatum(t))return 0;var e=L(t),n=T(t);return e(n)},i.generateLollipopHeight=function(t){var e=L(t),n=B(t);return e(n)},i.generateLollipopRadius=function(t){return i.isBadDatum(t)?0:s},i.isBadDatum=function(t){var e=B(t),n=T(t);return!Number(e)||!Number(n)},i.width=function(t){return arguments.length?(a=t,i):a},i.height=function(t){return arguments.length?(l=t,i):l},i.valueAccessor=function(t){return arguments.length?(B=t,i):B},i.nameAccessor=function(t){return arguments.length?(C=t,i):C},i.comparisonValueAccessor=function(t){return arguments.length?(T=t,i):T},i.transitionDuration=function(t){return arguments.length?(m=t,i):m},i};t.exports=o},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=d[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(s(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(s(r.parts[i],e));d[r.id]={id:r.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],l=o[2],u=o[3],s={css:a,media:l,sourceMap:u};n[i]?n[i].parts.push(s):e.push(n[i]={id:i,parts:[s]})}return e}function i(t,e){var n=m(),r=y[y.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function l(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function u(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function s(t,e){var n,r,o;if(e.singleton){var i=x++;n=v||(v=l(e)),r=c.bind(null,n,i,!1),o=c.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),r=p.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(e),r=f.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function c(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var d={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},g=h(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=h(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,x=0,y=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=g()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var l=n[a],u=d[l.id];u.refs--,i.push(u)}if(t){var s=o(t);r(s,e)}for(var a=0;a<i.length;a++){var u=i[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete d[u.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(e,n){e.exports=t},function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".Lollipop-Chart rect{fill:#d4e6f6}.Lollipop-Chart line{stroke:#9fa2a4;stroke-width:1px;stroke-dasharray:5,3}",""])},function(t,e,n){e=t.exports=n(1)(),e.push([t.id,'.d3-tip-mouse{padding:8px;background:rgba(0,0,0,.8);border-radius:2px;pointer-events:none;z-index:100;outline:none}.d3-tip-mouse,.d3-tip-mouse label{font-size:13px;line-height:16px;color:#fff}.d3-tip-mouse label{font-family:Abel,Helvetica,Arial,sans-serif;font-weight:400;display:inline}.d3-tip{font-size:13px;line-height:16px;padding:8px;background:rgba(0,0,0,.8);color:#fff;border-radius:2px;pointer-events:none;z-index:100;outline:none}.d3-tip label{font-family:Abel,Helvetica,Arial,sans-serif;font-weight:400}.d3-tip:after{box-sizing:border-box;display:inline;font-size:10px;width:100%;line-height:1;color:rgba(0,0,0,.8);position:absolute;pointer-events:none;z-index:100}.d3-tip.n:after{text-align:center}.d3-tip.n:after,.d3-tip.ne:after{content:"\\25BC";top:auto;bottom:-7px;left:0}.d3-tip.ne:after{text-align:left;padding-left:8px}.d3-tip.nw:after{content:"\\25BC";top:auto;bottom:-7px;left:0;text-align:right;padding-right:8px}.d3-tip.e:after{content:"\\25C0";margin:-4px 0 0;top:50%;left:-7px}.d3-tip.s:after{content:"\\25B2";margin:0 0 1px;top:-8px;left:0;text-align:center}.d3-tip.w:after{content:"\\25B6";margin:-4px 0 0 -2px;top:50%;left:100%}',""])},function(t,e,n){var r,o,i;!function(a,l){o=[n(3)],r=l,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(this,function(t){return t.tip=function(){function e(t){B=x(t),C=B.createSVGPoint(),document.body.appendChild(L)}function n(t){var e=window.outerWidth;return t>e?t-e:!1}function r(t){window.outerWidth;return 0>t?-t:!1}function o(t){var e=document.documentElement.scrollTop||document.body.scrollTop,n=window.innerHeight+e;return t>n?t-n:!1}function i(){return"n"}function a(){return[0,0]}function l(){return" "}function u(){return"shape"}function s(){var t=y();return{top:t.n.y-L.offsetHeight,left:t.n.x-L.offsetWidth/2}}function c(){var t=y();return{top:t.s.y,left:t.s.x-L.offsetWidth/2}}function f(){var t=y();return{top:t.e.y-L.offsetHeight/2,left:t.e.x}}function p(){var t=y();return{top:t.w.y-L.offsetHeight/2,left:t.w.x-L.offsetWidth}}function d(){var t=y();return{top:t.nw.y-L.offsetHeight,left:t.nw.x-L.offsetWidth}}function h(){var t=y();return{top:t.ne.y-L.offsetHeight,left:t.ne.x}}function g(){var t=y();return{top:t.sw.y,left:t.sw.x-L.offsetWidth}}function m(){var t=y();return{top:t.se.y,left:t.e.x}}function v(){var e=t.select(document.createElement("div"));return e.style({position:"absolute",top:0,opacity:0,"pointer-events":"none","box-sizing":"border-box"}),e.node()}function x(t){return t=t.node(),"svg"===t.tagName.toLowerCase()?t:t.ownerSVGElement}function y(){for(var e=T||t.event.target;"undefined"==typeof e.getScreenCTM&&"undefined"===e.parentNode;)e=e.parentNode;var n={},r=e.getScreenCTM(),o=e.getBBox(),i=o.width,a=o.height,l=o.x,u=o.y;return C.x=l,C.y=u,n.nw=C.matrixTransform(r),C.x+=i,n.ne=C.matrixTransform(r),C.y+=a,n.se=C.matrixTransform(r),C.x-=i,n.sw=C.matrixTransform(r),C.y-=a/2,n.w=C.matrixTransform(r),C.x+=i,n.e=C.matrixTransform(r),C.x-=i/2,C.y-=a/2,n.n=C.matrixTransform(r),C.y+=a,n.s=C.matrixTransform(r),n}var b=i,w=a,A=l,L=v(),B=null,C=null,T=null,S=u;e.show=function(){var i=Array.prototype.slice.call(arguments);i[i.length-1]instanceof SVGElement&&(T=i.pop());var a,l=A.apply(this,i),u=w.apply(this,i),s=b.apply(this,i),c=t.select(L),f=H.length,p=document.documentElement.scrollTop||document.body.scrollTop,d=document.documentElement.scrollLeft||document.body.scrollLeft;for(c.html(l).style({opacity:1,"pointer-events":"all","z-index":100});f--;)c.classed(H[f],!1);a=R.get(s).apply(this);var h=a.left+u[1]+d+c.property("offsetWidth"),g=a.top+u[0]+p+c.property("offsetHeight"),m=n(h),v=o(g),x=a.left+u[1]+d,y=r(x),B=a.top+u[0]+p;return m&&(x-=m),y&&(x+=y),v&&(B-=v),"shape"===S()?c.classed(s,!0).style({top:B+"px",left:x+"px"}):"mouse"===S()&&(c.classed(s,!0),e.updatePosition(u)),e},e.hide=function(){var n=t.select(L);return n.style({opacity:0,"pointer-events":"none","z-index":-1}),e},e.updatePosition=function(i){var a=t.select(L),l=t.mouse(t.select("html").node())[0]+10,u=t.mouse(t.select("html").node())[1]+20,s=l+a.property("offsetWidth"),c=u+a.property("offsetHeight"),f=n(s),p=r(l),d=o(c);return i.length&&(l+=i[0],u+=i[1]),f&&(l-=f),p&&(l+=p),d&&(u-=d),a.style({top:u+"px",left:l+"px"}),e},e.attr=function(n,r){if(arguments.length<2&&"string"==typeof n)return t.select(L).attr(n);var o=Array.prototype.slice.call(arguments);return t.selection.prototype.attr.apply(t.select(L),o),e},e.style=function(n,r){if(arguments.length<2&&"string"==typeof n)return t.select(L).style(n);var o=Array.prototype.slice.call(arguments);return t.selection.prototype.style.apply(t.select(L),o),e},e.direction=function(n){return arguments.length?(b=null==n?n:t.functor(n),e):b},e.positionAnchor=function(n){return arguments.length?(S=null==n?n:t.functor(n),e):S},e.offset=function(n){return arguments.length?(w=null==n?n:t.functor(n),e):w},e.html=function(n){return arguments.length?(A=null==n?n:t.functor(n),e):A};var R=t.map({n:s,s:c,e:f,w:p,nw:d,ne:h,sw:g,se:m}),H=R.keys();return e},t.tip})},function(t,e,n){var r=n(4);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(5);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)}])});