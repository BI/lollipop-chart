!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("d3")):"function"==typeof define&&define.amd?define(["d3"],e):"object"==typeof exports?exports.LollipopChart=e(require("d3")):t.LollipopChart=e(t.d3)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var r=n(3);n(6)(r);n(7),n(8);var o=function(t){function e(t,e,n){var r=this;return function(){return u.selectAll("rect."+z).filter(function(e){return f.nameAccessor()(e)===f.nameAccessor()(t)}).classed("active",!0),u.selectAll("circle."+N).filter(function(e){return f.nameAccessor()(e)===f.nameAccessor()(t)}).classed("active",!0),u.selectAll("text").filter(function(e){return f.nameAccessor()(e)===f.nameAccessor()(t)}).classed("active",!0),n.show(t,e).bind(r)}}function n(t,e,n){var r=this;return function(){return u.selectAll("rect."+z).filter(function(e){return f.nameAccessor()(e)===f.nameAccessor()(t)}).classed("active",!1),u.selectAll("circle."+N).filter(function(e){return f.nameAccessor()(e)===f.nameAccessor()(t)}).classed("active",!1),u.selectAll("text").filter(function(e){return f.nameAccessor()(e)===f.nameAccessor()(t)}).classed("active",!1),n.hide(t,e).bind(r)}}function o(t,e){var n=a(t,e);return n+f.generateBarWidth()/2}function i(t,e){var n=a(t,e);return n-h*(1/16)}function a(t,e){return y(e)}function l(t){return d-f.generateBarHeight(t)}function s(t){return d-j(t).range()[1]}function c(t,e){var n=5,r=5,o=s(t);u.append("line").classed("lollipop-axis-line",!0).attr("x1",i(t,e)).attr("x2",i(t,e)).attr("y1",d).attr("y2",o).transition().duration(w).attr("y2",o);for(var a=1;a<=k;a++){var l=3;u.append("line").classed("lollipop-axis-line",!0).attr("x1",i(t,e)-l).attr("x2",i(t,e)).attr("y1",d+(o-d)*(a/k)).attr("y2",d+(o-d)*(a/k))}Math.abs(o-d)>n&&u.append("text").classed("lollipop-axis-text",!0).attr("x",i(t,e)-r).attr("font-size",R+"px").attr("text-anchor","end").attr("alignment-baseline","middle").text(V(j(t).domain()[1])).attr("y",o),u.append("text").classed("lollipop-axis-text",!0).attr("x",i(t,e)-r).attr("font-size",R+"px").attr("text-anchor","end").attr("alignment-baseline","top").text(V(j(t).domain()[0])).attr("y",d)}var u,f={},p=450,d=200,h=35,m=10,g=[30,10],x={},v=r.scale.linear(),y=r.scale.linear(),b=!1,A=r.scale.category10(),w=750,L="#ccc",C="N/A",B=[0,0],T=r.format(","),S=!0,k=2,R=10,H="d3-tip-mouse",z="comparison-bar",E="lollipop-line",N="lollipop-circle",U=function(t){var e="<label>Name: </label>"+f.nameAccessor()(t);return e+="<br/><label>Value: </label>"+T(f.valueAccessor()(t)),e+="<br/><label>Comparison Value: </label>"+T(f.comparisonValueAccessor()(t))},W=function(t){return"Data not available"},j=function(t){return t.scale?t.scale:v},D=function(t){return t.value},M=function(t){if(null!=t)return t.name},O=function(t){return t.comparisonValue},V=function(t){return t};return f.render=function(i){u=r.select(t).html("").classed("Lollipop-Chart",!0).append("svg");var s=r.select(t).attr("id")+"-tip",h=r.tip().attr("class",H).attr("id",s).html(U).offset(B).positionAnchor("mouse"),g=r.tip().attr("class",H).attr("id",s+"-na").html(W).offset(B).positionAnchor("mouse");arguments.length&&f.data(i),u.attr("width",p),u.attr("height",d),u.selectAll("rect").data(x).enter().append("rect").classed(z,!0).attr("x",a).attr("width",f.generateBarWidth).attr("height",f.generateBarHeight).attr("y",d).transition().duration(w).attr("y",l),u.selectAll("line").data(x).enter().append("line").classed(E,!0).attr("x1",o).attr("x2",o).attr("y1",d).attr("y2",d).transition().duration(w).attr("y2",f.generateLineY2),u.selectAll("circle").data(x).enter().append("circle").classed(N,!0).attr("cx",o).attr("r",f.generateLollipopRadius).attr("fill",function(t){return f.colorAccessor(t)}).attr("cy",d+m).transition().duration(w).attr("cy",f.generateLollipopY),x.forEach(function(t,e){f.isBadDatum(t)?u.append("text").datum(t).classed("na-text",!0).attr("x",o(t,e)).attr("font-size",m+"px").attr("text-anchor","middle").text(C).attr("y",d-5):S&&c(t,e)}),x.forEach(function(t,o){var i=u.append("rect").datum(t);i.classed("tt-ghost-rect",!0).attr("x",a(t,o)).attr("y",0).attr("width",f.generateBarWidth).attr("height",d);var l=h;f.isBadDatum(t)&&(l=g),r.select("#"+l.attr("id")).empty()||r.select("#"+l.attr("id")).remove(),i.call(l),i.on("mouseover",e(t,o,l)).on("mouseout",n(t,o,l)).on("mousemove",l.updatePosition)})},f.data=function(t){if(!arguments.length)return x;x=t;var e=[g[0],p+h-g[0]],n=[0,d-g[1]];return b||v.domain([r.min(x,D),r.max(x,D)]),v.range(n),x.forEach(function(t){t.scale&&t.scale.range(n)}),y.domain([0,x.length]).range(e),A.domain(x.map(M)),f},f.numberFormatter=function(t){return arguments.length?(V=t,f):V},f.tooltipContent=function(t){return arguments.length?(U=t,f):U},f.yScaleAccessor=function(t){return arguments.length?(j=t,f):j},f.colorScale=function(t){return arguments.length?(A=t,f):A},f.colorAccessor=function(t){return f.isBadDatum(t)?L:A(M(t))},f.noDataColor=function(t){return arguments.length?(L=t,f):L},f.xScale=function(){return y},f.yScale=function(t){return arguments.length?(v=t,b=!0,f):v},f.barGap=function(t){return arguments.length?(h=t,f):h},f.lollipopRadius=function(t){return arguments.length?(m=t,g[1]=Math.max(g[1],t),f):m},f.chartGutter=function(t){return arguments.length?(g=t,f):g},f.generateLollipopY=function(t){return f.isBadDatum(t)?d+m:d-f.generateLollipopHeight(t)},f.generateLineY2=function(t){return f.isBadDatum(t)?d:f.generateLollipopY(t)},f.displayRangeAxis=function(t){return arguments.length?(S=t,f):S},f.numberOfTicks=function(t){return arguments.length?(k=t,f):k},f.axisLabelSize=function(t){return arguments.length?(R=t,f):R},f.generateBarWidth=function(){return(p+h)/x.length-h},f.generateBarHeight=function(t){if(f.isBadDatum(t))return 0;var e=j(t),n=O(t);return e(n)},f.generateLollipopHeight=function(t){var e=j(t),n=D(t);return e(n)},f.generateLollipopRadius=function(t){return f.isBadDatum(t)?0:m},f.isBadDatum=function(t){var e=D(t),n=O(t);return!Number(e)||!Number(n)},f.width=function(t){return arguments.length?(p=t,f):p},f.height=function(t){return arguments.length?(d=t,f):d},f.valueAccessor=function(t){return arguments.length?(D=t,f):D},f.nameAccessor=function(t){return arguments.length?(M=t,f):M},f.comparisonValueAccessor=function(t){return arguments.length?(O=t,f):O},f.transitionDuration=function(t){return arguments.length?(w=t,f):w},f};t.exports=o},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<e.length;o++){var a=e[o];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=d[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(c(r.parts[i],e))}else{for(var a=[],i=0;i<r.parts.length;i++)a.push(c(r.parts[i],e));d[r.id]={id:r.id,refs:1,parts:a}}}}function o(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],i=o[0],a=o[1],l=o[2],s=o[3],c={css:a,media:l,sourceMap:s};n[i]?n[i].parts.push(c):e.push(n[i]={id:i,parts:[c]})}return e}function i(t,e){var n=g(),r=y[y.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function l(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function s(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function c(t,e){var n,r,o;if(e.singleton){var i=v++;n=x||(x=l(e)),r=u.bind(null,n,i,!1),o=u.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(e),r=p.bind(null,n),o=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=l(e),r=f.bind(null,n),o=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function u(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function p(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var d={},h=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},m=h(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),g=h(function(){return document.head||document.getElementsByTagName("head")[0]}),x=null,v=0,y=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=m()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=o(t);return r(n,e),function(t){for(var i=[],a=0;a<n.length;a++){var l=n[a],s=d[l.id];s.refs--,i.push(s)}if(t){var c=o(t);r(c,e)}for(var a=0;a<i.length;a++){var s=i[a];if(0===s.refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete d[s.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(e,n){e.exports=t},function(t,e,n){e=t.exports=n(1)(),e.push([t.id,".Lollipop-Chart rect{fill:#d4e6f6}.Lollipop-Chart rect.active{stroke:#7ca3c5}.Lollipop-Chart rect.tt-ghost-rect{fill:none;stroke:none;pointer-events:all}.Lollipop-Chart circle.active{stroke:#7ca3c5}.Lollipop-Chart .lollipop-line{stroke:#9fa2a4;stroke-width:1px;stroke-dasharray:5,3}.Lollipop-Chart .lollipop-axis-line{stroke:#9fa2a4;stroke-width:1px}.Lollipop-Chart text.lollipop-axis-text{fill:#9fa2a4}.Lollipop-Chart text.na-text.active{fill:#7ca3c5}",""])},function(t,e,n){e=t.exports=n(1)(),e.push([t.id,'.d3-tip-mouse{padding:8px;background:rgba(0,0,0,.8);border-radius:2px;pointer-events:none;z-index:100;outline:none}.d3-tip-mouse,.d3-tip-mouse label{font-size:13px;line-height:16px;color:#fff}.d3-tip-mouse label{font-family:Abel,Helvetica,Arial,sans-serif;font-weight:400;display:inline}.d3-tip{font-size:13px;line-height:16px;padding:8px;background:rgba(0,0,0,.8);color:#fff;border-radius:2px;pointer-events:none;z-index:100;outline:none}.d3-tip label{font-family:Abel,Helvetica,Arial,sans-serif;font-weight:400}.d3-tip:after{box-sizing:border-box;display:inline;font-size:10px;width:100%;line-height:1;color:rgba(0,0,0,.8);position:absolute;pointer-events:none;z-index:100}.d3-tip.n:after{text-align:center}.d3-tip.n:after,.d3-tip.ne:after{content:"\\25BC";top:auto;bottom:-7px;left:0}.d3-tip.ne:after{text-align:left;padding-left:8px}.d3-tip.nw:after{content:"\\25BC";top:auto;bottom:-7px;left:0;text-align:right;padding-right:8px}.d3-tip.e:after{content:"\\25C0";margin:-4px 0 0;top:50%;left:-7px}.d3-tip.s:after{content:"\\25B2";margin:0 0 1px;top:-8px;left:0;text-align:center}.d3-tip.w:after{content:"\\25B6";margin:-4px 0 0 -2px;top:50%;left:100%}',""])},function(t,e,n){var r,o,i;!function(a,l){o=[n(3)],r=l,i="function"==typeof r?r.apply(e,o):r,!(void 0!==i&&(t.exports=i))}(this,function(t){return t.tip=function(){function e(t){C=v(t),B=C.createSVGPoint(),document.body.appendChild(L)}function n(t){var e=window.outerWidth;return t>e&&t-e}function r(t){window.outerWidth;return t<0&&-t}function o(t){var e=document.documentElement.scrollTop||document.body.scrollTop,n=window.innerHeight+e;return t>n&&t-n}function i(){return"n"}function a(){return[0,0]}function l(){return" "}function s(){return"shape"}function c(){var t=y();return{top:t.n.y-L.offsetHeight,left:t.n.x-L.offsetWidth/2}}function u(){var t=y();return{top:t.s.y,left:t.s.x-L.offsetWidth/2}}function f(){var t=y();return{top:t.e.y-L.offsetHeight/2,left:t.e.x}}function p(){var t=y();return{top:t.w.y-L.offsetHeight/2,left:t.w.x-L.offsetWidth}}function d(){var t=y();return{top:t.nw.y-L.offsetHeight,left:t.nw.x-L.offsetWidth}}function h(){var t=y();return{top:t.ne.y-L.offsetHeight,left:t.ne.x}}function m(){var t=y();return{top:t.sw.y,left:t.sw.x-L.offsetWidth}}function g(){var t=y();return{top:t.se.y,left:t.e.x}}function x(){var e=t.select(document.createElement("div"));return e.style({position:"absolute",top:0,opacity:0,"pointer-events":"none","box-sizing":"border-box"}),e.node()}function v(t){return t=t.node(),"svg"===t.tagName.toLowerCase()?t:t.ownerSVGElement}function y(){for(var e=T||t.event.target;"undefined"==typeof e.getScreenCTM&&"undefined"===e.parentNode;)e=e.parentNode;var n={},r=e.getScreenCTM(),o=e.getBBox(),i=o.width,a=o.height,l=o.x,s=o.y;return B.x=l,B.y=s,n.nw=B.matrixTransform(r),B.x+=i,n.ne=B.matrixTransform(r),B.y+=a,n.se=B.matrixTransform(r),B.x-=i,n.sw=B.matrixTransform(r),B.y-=a/2,n.w=B.matrixTransform(r),B.x+=i,n.e=B.matrixTransform(r),B.x-=i/2,B.y-=a/2,n.n=B.matrixTransform(r),B.y+=a,n.s=B.matrixTransform(r),n}var b=i,A=a,w=l,L=x(),C=null,B=null,T=null,S=s;e.show=function(){var i=Array.prototype.slice.call(arguments);i[i.length-1]instanceof SVGElement&&(T=i.pop());var a,l=w.apply(this,i),s=A.apply(this,i),c=b.apply(this,i),u=t.select(L),f=R.length,p=document.documentElement.scrollTop||document.body.scrollTop,d=document.documentElement.scrollLeft||document.body.scrollLeft;for(u.html(l).style({opacity:1,"pointer-events":"all","z-index":100,display:"block"});f--;)u.classed(R[f],!1);a=k.get(c).apply(this);var h=a.left+s[1]+d+u.property("offsetWidth"),m=a.top+s[0]+p+u.property("offsetHeight"),g=n(h),x=o(m),v=a.left+s[1]+d,y=r(v),C=a.top+s[0]+p;return g&&(v-=g),y&&(v+=y),x&&(C-=x),"shape"===S()?u.classed(c,!0).style({top:C+"px",left:v+"px"}):"mouse"===S()&&(u.classed(c,!0),e.updatePosition(s)),e},e.hide=function(){var n=t.select(L);return n.style({opacity:0,"pointer-events":"none","z-index":-1,display:"none"}),e},e.updatePosition=function(i){var a=t.select(L),l=t.mouse(t.select("html").node())[0]+10,s=t.mouse(t.select("html").node())[1]+20,c=l+a.property("offsetWidth"),u=s+a.property("offsetHeight"),f=n(c),p=r(l),d=o(u);return i.length&&(l+=i[0],s+=i[1]),f&&(l-=f),p&&(l+=p),d&&(s-=d),a.style({top:s+"px",left:l+"px"}),e},e.attr=function(n,r){if(arguments.length<2&&"string"==typeof n)return t.select(L).attr(n);var o=Array.prototype.slice.call(arguments);return t.selection.prototype.attr.apply(t.select(L),o),e},e.style=function(n,r){if(arguments.length<2&&"string"==typeof n)return t.select(L).style(n);var o=Array.prototype.slice.call(arguments);return t.selection.prototype.style.apply(t.select(L),o),e},e.direction=function(n){return arguments.length?(b=null==n?n:t.functor(n),e):b},e.positionAnchor=function(n){return arguments.length?(S=null==n?n:t.functor(n),e):S},e.offset=function(n){return arguments.length?(A=null==n?n:t.functor(n),e):A},e.html=function(n){return arguments.length?(w=null==n?n:t.functor(n),e):w};var k=t.map({n:c,s:u,e:f,w:p,nw:d,ne:h,sw:m,se:g}),R=k.keys();return e},t.tip})},function(t,e,n){var r=n(4);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(5);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)}])});